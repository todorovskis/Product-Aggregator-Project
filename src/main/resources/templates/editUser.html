<th:block xmlns:th="http://www.thymeleaf.org">
    <form th:action="@{'/users/profiles/edit/{id}' (id=${user.getId()})}" method="POST">
        <div class="form-group">
            <label for="username">Username</label>
            <input type="text"
                   class="form-control"
                   id="username"
                   name="username"
                   th:value="(${user} != null ? ${user.getUsername()} : '')"
                   required
                   placeholder="Username">
        </div>
        <div class="form-group">
            <label for="email">Email</label>
            <input type="text"
                   class="form-control"
                   id="email"
                   name="email"
                   th:value="(${user} != null ? ${user.getEmail()} : '')"
                   placeholder="Email">
        </div>
        <div style="margin-bottom: 10px">
            <p>Favourite products</p>
            <ul class="list">
                <li th:each="favourite: ${favourites}">
                    <form th:action="@{/products/{id} (id=${favourite.getProduct()?.getId()})}" method="post">
                        <button type="submit" style="background: none; border: none; cursor: pointer;">
                            <a th:text="${favourite.getProduct().getProductName()}"></a>
                        </button>
                    </form>
                </li>
            </ul>
        </div>
        <button id="submit" type="submit" class="btn btn-primary">Submit</button>
        <a type="button" class="btn btn-primary" href="/">Back</a>
    </form>
</th:block>